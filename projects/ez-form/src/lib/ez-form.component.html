
<form [formGroup]="formulario" class="filled">
  <div class="d-flex justify-content-center">
    <div class="p-2 flex-fill">
      <div *ngFor="let control of configuracion">
        <mat-form-field *ngIf="control.tipo.nombreTipo === 'input'"
                        appearance="outline"
                        class="filled">
          <mat-label>{{control.nombre}}</mat-label>
          <input
            matInput *ngIf="control.tipo.nombreTipo === 'input'"
            type="text"
            formControlName={{control.nombre}}
            placeholder="{{control.placeholder ? control.placeholder : ''}}">
        </mat-form-field>
        <mat-form-field
          *ngIf="control.tipo.nombreTipo === 'select'"
          appearance="outline" class="filled">
          <select matNativeControl
            formControlName={{control.nombre}}
            placeholder="{{control.placeholder ? control.placeholder : ''}}"
          >
            <option
                        value={{opcion.valor}}
                        *ngFor="let opcion of control.tipo.opciones"
                        [selected]="opcion.valor === registro[control.nombre]"
            >
              {{opcion.nombre}}
            </option>
          </select>
        </mat-form-field>
        <mat-radio-group *ngIf="control.tipo.nombreTipo === 'radio'"
                         formControlName="{{control.nombre}}"
                         class="radio-group"
        >
          <h5>{{control.label}}</h5>
          <mat-radio-button *ngFor="let opcion of control.tipo.opciones" class="radio-button" value="{{opcion.valor}}" checked="{{opcion.valor === registro[control.nombre]}}">
            {{opcion.nombre}}
          </mat-radio-button>
        </mat-radio-group>
        <div *ngIf="control.tipo.nombreTipo === 'check'">
          <h5>{{control.label}}</h5>
          <p *ngFor="let opcion of control.tipo.opciones">
            <mat-checkbox
              formArrayName={{control.nombre}}
              [checked]="registro[control.nombre].includes(opcion.valor)"
              (change)="updateChkbxArray(opcion, $event.checked, control.nombre)"
            >
              {{opcion.nombre}}
            </mat-checkbox>
          </p>
        </div>
        <div *ngIf="verificarMensajeError(control.nombre)" class="alert alert-primary" role="alert">
          <ul>
            <li *ngFor="let error of obtenerMensajesError(control.nombre)">{{error}}</li>
          </ul>
        </div>
      </div>
    </div>
  </div>
  <ng-content>
  </ng-content>
</form>
<toaster-container [toasterconfig]="config"></toaster-container>

